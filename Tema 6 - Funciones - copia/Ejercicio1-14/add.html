<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Intercambiar Evento con Botón</title>
</head>
<body>
    <div id="miDiv" style="width: 200px; height: 200px; background-color: lightblue; text-align: center;">
        Haz clic aquí para cambiar el color
    </div>

    <button id="boton">Intercambiar evento</button>
    <p id="estado">El evento está activo</p>

    <script>
        const miDiv = document.getElementById('miDiv');
        const boton = document.getElementById('boton');
        const estado = document.getElementById('estado');

        // Función que cambia el color de fondo
        const cambiarColor = function() {
            miDiv.style.backgroundColor = miDiv.style.backgroundColor === 'lightblue' ? 'lightgreen' : 'lightblue';
        };

        // Variable para controlar si el evento está agregado o no
        let eventoActivo = true;

        // Función para intercambiar el evento
        const intercambiarEvento = function() {
            if (eventoActivo) {
                // Si el evento está activo, lo eliminamos
                miDiv.removeEventListener('click', cambiarColor);
                estado.textContent = 'El evento ha sido eliminado';
                estado.style.color = 'red'; // Cambio visual
                console.log("Evento eliminado");
            } else {
                // Si el evento no está activo, lo agregamos
                miDiv.addEventListener('click', cambiarColor);
                estado.textContent = 'El evento está activo';
                estado.style.color = 'green'; // Cambio visual
                console.log("Evento agregado");
            }

            // Cambiar el estado del evento
            eventoActivo = !eventoActivo; // Invertir el estado
        };

        // Inicializar el evento
        miDiv.addEventListener('click', cambiarColor);

        // El botón intercambia el evento
        boton.addEventListener('click', intercambiarEvento);
    </script>
</body>
</html>
